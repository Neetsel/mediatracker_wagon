<% existing_medium = Medium.find_by(title: medium["name"], year: year) %>
<% if existing_medium %>
  <% if medium && current_user.favorited?(existing_medium, scope: :like)  %>
    <%= link_to toggle_likes_medium_path(existing_medium) do %>
      <i class="fa-solid fa-heart"></i>
    <% end %>
  <% else %>
    <%= link_to toggle_likes_medium_path(existing_medium) do %>
      <i class="fa-regular fa-heart"></i>
    <% end %>
  <% end %>
<% else  %>
  <%= button_to create_record_media_path( new_medium: medium, favorite: "like", medium_type: medium_type ),
      method: :post,
      data: { turbo_stream: true } do %>
      <i class="fa-regular fa-heart"></i>
    <% end %>
<% end %>
